(this["webpackJsonpfrontend-reactjs-ines"]=this["webpackJsonpfrontend-reactjs-ines"]||[]).push([[0],{132:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(0),s=a.n(i),r=a(10),c=a.n(r),o=a(33),l=(a(132),a(17)),d=a(11),j=a(4),h=a(12),u=a(23),b=a(5),p=a(238),x=a(239),O=a(54),m=a(246),f=a(229),g=a(240),v=a(241),y=a(232),C=a(112),k=a.n(C),D=a(223),w=a(224),S=a(116),N=a(218),I=a(222);function B(e){e.preventDefault()}var M=Object(N.a)({depositContext:{flex:1}}),E=function(){var e=M();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("h2",{children:"Mod\xe8les"}),Object(n.jsx)(O.a,{component:"p",variant:"h4",children:"12"}),Object(n.jsx)(O.a,{color:"textSecondary",className:e.depositContext,children:"cette semaine"}),Object(n.jsx)("div",{children:Object(n.jsx)(I.a,{color:"primary",href:"#",onClick:B,children:"voir plus des d\xe9tails"})})]})};function P(e){e.preventDefault()}var L=Object(N.a)({depositContext:{flex:1}}),T=function(){var e=L();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("h2",{children:"les plus utilis\xe9s"}),Object(n.jsx)(O.a,{component:"p",variant:"h4",children:"12"}),Object(n.jsx)(O.a,{color:"textSecondary",className:e.depositContext,children:"cette semaine"}),Object(n.jsx)("div",{children:Object(n.jsx)(I.a,{color:"primary",href:"#",onClick:P,children:"voir plus des d\xe9tails"})})]})},R=Object(N.a)((function(e){return{root:{display:"flex"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}})),W=function(){var e=R(),t=Object(j.a)(e.paper,e.fixedHeight);return Object(n.jsx)("div",{children:Object(n.jsx)(D.a,{maxWidth:"lg",className:e.container,children:Object(n.jsxs)(w.a,{container:!0,spacing:3,children:[Object(n.jsx)(w.a,{item:!0,xs:12,md:4,lg:3,children:Object(n.jsx)(S.a,{className:t,children:Object(n.jsx)(E,{})})}),Object(n.jsx)(w.a,{item:!0,xs:12,md:4,lg:3,children:Object(n.jsx)(S.a,{className:t,children:Object(n.jsx)(T,{})})}),Object(n.jsx)(w.a,{item:!0,xs:12,md:4,lg:3,children:Object(n.jsx)(S.a,{className:t,children:"ines"})})]})})})},A=a(29),z=a(21),H=a(18),F=a(36),J=a(34),V=a(63),_=a.n(V),G=a(52),Y=a(74),q=a.n(Y),K=a(75),Q=a(6),U=a.n(Q),X=function(e){Object(F.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).drop=function(e,t){t.preventDefault();var a=t.dataTransfer.getData("transfer");if("dr1"===t.dataTransfer.getData("gridId")){var n=document.getElementById(a).cloneNode(!0),i=c(12);n.id=i,t.target.appendChild(n),t.dataTransfer.clearData()}else if("dr1"!==t.dataTransfer.getData("gridId")&&t.dataTransfer.getData("gridId").trim()!==e.toString()){var s=document.getElementById(a),r=c(12);s.id=r,t.target.appendChild(s)}function c(e){for(var t=Math.pow(16,Math.min(e,8)-1),a=Math.pow(16,Math.min(e,8))-1,n=(Math.floor(Math.random()*(a-t+1))+t).toString(16);n.length<e;)n+=c(e-8);return n}},e.allowDrop=function(e){e.preventDefault()},e}return Object(z.a)(a,[{key:"dragstart_handler",value:function(e,t){t.dataTransfer.setData("transfer",t.target.id),t.dataTransfer.setData("gridId",e)}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{id:this.props.id,onDrop:function(t){return e.drop(e.props.id,t)},onDragOver:this.allowDrop,onDragStart:function(t){return e.dragstart_handler(e.props.id,t)},style:this.props.style,children:this.props.children})}}]),a}(s.a.Component);X.protoTypes={id:U.a.string,style:U.a.object,children:U.a.node};var Z=a(225),$=a(104),ee=a.n($),te=Object(K.WidthProvider)(K.Responsive),ae={fontsize:"24px",textAlign:"left",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",margin:"auto",height:"100%"},ne=function(e){Object(F.a)(a,e);var t=Object(J.a)(a);function a(e){var n;return Object(A.a)(this,a),(n=t.call(this)).state={items:[0,1,2,3].map((function(e,t,a){return{i:e.toString(),x:2*e,y:0,w:2,h:2,add:e===a.length-1}})),newCounter:4,layouts:[]},n.onAddItem=n.onAddItem.bind(Object(H.a)(n)),n.onBreakpointChange=n.onBreakpointChange.bind(Object(H.a)(n)),n}return Object(z.a)(a,[{key:"createElement",value:function(e){var t=e.add?"3":e.i;return Object(n.jsxs)("div",{"data-grid":e,children:[Object(n.jsx)(X,{id:t,ref:t+"item",style:ae,fluid:!0}),Object(n.jsx)("span",{className:"remove",style:{position:"absolute",right:"2px",top:0,cursor:"pointer"},onClick:this.onRemoveItem.bind(this,t),children:"x"})]},t)}},{key:"onAddItem",value:function(){this.state.items.length<12&&(this.setState({items:this.state.items.concat({i:"n"+this.state.newCounter,x:2*this.state.items.length%(this.state.cols||12),y:0,w:2,h:2}),newCounter:this.state.newCounter+1}),this.setState({layouts:[this.state.layouts,Object.assign({},{absolutePosition:{x:2*this.state.items.length%(this.state.cols||12),y:0}})]}))}},{key:"onBreakpointChange",value:function(e,t){this.setState({breakpoint:e,cols:t})}},{key:"onLayoutChange",value:function(e){this.props.onLayoutChange(e),this.setState({layout:e})}},{key:"onRemoveItem",value:function(e){this.setState({items:q.a.reject(this.state.items,{i:e}),newCounter:e})}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsx)(Z.a,{size:"small",color:"secondary","aria-label":"add",children:Object(n.jsx)(ee.a,{onClick:this.onAddItem})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsx)(te,Object(G.a)(Object(G.a)({onLayoutChange:this.onLayoutChange,onBreakpointChange:this.onBreakpointChange},this.props),{},{children:q.a.map(this.state.items,(function(t){return e.createElement(t)}))}))]})]})}}]),a}(s.a.Component);ne.defaultProps={className:"layout",cols:{lg:12,md:10,sm:6,xs:4,xxs:2},rowHeight:100};var ie=ne,se=a(108),re=a.n(se),ce=a(106),oe=a.n(ce),le=a(107),de=a.n(le),je=a(226),he=a(53),ue=a.n(he),be=a(76),pe=a.n(be),xe=a(230),Oe=a(227),me=a(243),fe=function(e){Object(F.a)(a,e);var t=Object(J.a)(a);function a(e){var n;return Object(A.a)(this,a),(n=t.call(this,e)).openPdfClick=function(){var e=[],t=[];n.state.layout.forEach((function(t){e.push(Object.assign({},{absolutePosition:{x:50*t.x+50,y:50*t.y+50}}))}));for(var a=0;a<n.state.layout.length;a++)if(document.getElementById(""+n.state.layout[a].i))for(var i=document.getElementById(""+n.state.layout[a].i).children,s=0;s<i.length;s++)e[a]=Object.assign({text:i[s].value},e[a]),t.push(Object.assign({},{text:i[s].value,index:a}));n.setState({savelist:[]}),e.forEach((function(e){n.state.savelist.push(e)}));var r=pe.a.pdfMake.vfs;ue.a.vfs=r;var c=function(e,t,a){var n,i=(n=e,Object.assign({},n)),s=i[t];return delete i[t],i[a]=s,i},o=[];for(var l in n.state.savelist)o.push(c(n.state.savelist[l],"text","text"));console.log("myArray"),console.log(o);var d={pageSize:"A4",pageOrientation:"landscape",content:o};ue.a.createPdf(d).open()},n.exportPdfClick=function(){n.setState({count:n.state.count+1});var e=[],t=[];n.state.layout.forEach((function(t){e.push(Object.assign({},{absolutePosition:{x:50*t.x+50,y:50*t.y+50}}))}));for(var a=0;a<n.state.layout.length;a++)if(document.getElementById(""+n.state.layout[a].i))for(var i=document.getElementById(""+n.state.layout[a].i).children,s=0;s<i.length;s++)e[a]=Object.assign({text:i[s].value},e[a]),t.push(Object.assign({},{text:i[s].value,index:a}));n.setState({savelist:[]}),e.forEach((function(e){n.state.savelist.push(e)}));var r=pe.a.pdfMake.vfs;ue.a.vfs=r;var c=function(e,t,a){var n,i=(n=e,Object.assign({},n)),s=i[t];return delete i[t],i[a]=s,i},o=[];for(var l in n.state.savelist)o.push(c(n.state.savelist[l],"text","text"));var d=new Date,j=d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate(),h=n.state.nomtemplate+"-"+j+"V"+n.state.count,u={pageSize:"A4",pageOrientation:"landscape",content:o};ue.a.createPdf(u).download(h)},n.save=function(){var e=[];n.state.layout.forEach((function(t){if(0!==document.getElementById(""+t.i).children.length){var a=document.getElementById(""+t.i).children;console.log(a);for(var n=0;n<a.length;n++)e.push(Object.assign({},{x:t.x,y:t.y,h:t.h,w:t.w,value:a[n].value,index:t.i,type:a[n].type}))}else e.push(Object.assign({},{x:t.x,y:t.y,h:t.h,w:t.w}))})),n.setState({savedata:[]}),e.forEach((function(e){n.state.savedata.push(e)})),n.setState({loading:!0}),_.a.post("https://nestjs-backend-dnd.herokuapp.com/templates/add",{name:n.state.nomtemplate,items:e}).then((function(e){n.setState({loading:!1}),setTimeout((function(){n.setState({redirect:"/DnDWeviooReact/list"})}),1300)})).catch((function(e){alert("erreur : "+e)})),console.log(e)},n.state={isToggleOn:!0},n.state={notify:{isOpen:!1,message:"",type:""}},n.state={layout:[],savelist:[],savedata:[],nomtemplate:"",count:0,age:"",open:!1,redirect:null,loading:!1},n.onLayoutChange=n.onLayoutChange.bind(Object(H.a)(n)),n.openPdfClick=n.openPdfClick.bind(Object(H.a)(n)),n.exportPdfClick=n.exportPdfClick.bind(Object(H.a)(n)),n.save=n.save.bind(Object(H.a)(n)),n}return Object(z.a)(a,[{key:"onLayoutChange",value:function(e){this.setState({layout:e})}},{key:"render",value:function(){var e=this;return this.state.redirect?Object(n.jsx)(h.a,{to:this.state.redirect}):Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{style:{marginLeft:"50%"},children:this.state.loading?Object(n.jsx)(je.a,{}):null}),Object(n.jsx)(Oe.a,{children:Object(n.jsxs)(w.a,{container:!0,children:[Object(n.jsx)(w.a,{item:!0,children:Object(n.jsx)(me.a,{name:"Nom",label:"Nom",onChange:function(t){return e.setState({nomtemplate:t.target.value})}})})," "]})}),Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(xe.a,{color:"primary",variant:"contained",style:{marginLeft:"auto"},onClick:this.exportPdfClick,children:Object(n.jsx)(oe.a,{})}),Object(n.jsx)(xe.a,{style:{marginLeft:"5px"},variant:"contained",color:"primary","aria-label":"edit",onClick:this.openPdfClick,children:Object(n.jsx)(de.a,{})}),Object(n.jsx)(xe.a,{style:{marginLeft:"5px"},variant:"contained",color:"primary","aria-label":"add",onClick:this.save,children:Object(n.jsx)(re.a,{})})]}),Object(n.jsx)(ie,{onLayoutChange:this.onLayoutChange})]})}}]),a}(s.a.Component),ge=a(231),ve=a(109),ye=a.n(ve),Ce={color:"#55",backgroundColor:"white",borderRadius:"3px",margin:"8px",display:"flex"},ke=function(e){Object(F.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).drag=function(e){e.dataTransfer.setData("transfer",e.target.id),localStorage.setItem("myData",e.target.id)},e.noAllowDrop=function(e){e.stopPropagation(),e.dataTransfer.clearData()},e}return Object(z.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{style:{flexDirection:"row"},children:Object(n.jsx)("div",{style:{flexDirection:"column"},children:Object(n.jsxs)(ge.a,{children:["  ",Object(n.jsx)(ye.a,{}),Object(n.jsx)("input",{style:Ce,id:"item3",draggable:"true",onDragStart:function(t){return e.drag(t)},onDragOver:this.noAllowDrop,type:"text",name:"name"})]})})})}}]),a}(s.a.Component);ke.protoTypes={id:U.a.string,style:U.a.object,children:U.a.node};var De=Object(N.a)((function(e){return{root:{display:"flex"},button:{margin:e.spacing(1)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:500},container:{paddingBottom:e.spacing(4)}}})),we=function(){var e=De(),t=Object(j.a)(e.paper,e.fixedHeight);return Object(n.jsx)("div",{children:Object(n.jsx)(D.a,{maxWidth:"lg",className:e.container,children:Object(n.jsxs)(w.a,{container:!0,spacing:3,children:[Object(n.jsx)(w.a,{item:!0,xs:12,children:Object(n.jsx)(S.a,{style:{height:50},children:Object(n.jsx)(X,{id:"dr1",children:Object(n.jsx)(ke,{})})})}),Object(n.jsx)(w.a,{item:!0,xs:12,children:Object(n.jsx)(S.a,{className:t,children:Object(n.jsx)(fe,{})})})]})})})},Se=a(113),Ne=a.n(Se),Ie=function(){return Object(n.jsx)("div",{children:"ines"})},Be=a(114),Me=a.n(Be),Ee=a(79),Pe=a.n(Ee),Le=a(233),Te=a(234),Re=a(236),We=a(235),Ae=a(111),ze=a.n(Ae),He=a(110),Fe=a.n(He),Je=a(237),Ve=(a(172),a(244)),_e=a(247);function Ge(e){return Object(n.jsx)(Ve.a,Object(G.a)({elevation:6,variant:"filled"},e))}var Ye=Object(N.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)},outline:"none"}}}));function qe(){var e=Ye(),t=Object(h.f)(),a=Object(i.useState)([]),s=Object(l.a)(a,2),r=s[0],c=s[1],o=Object(i.useState)(!1),d=Object(l.a)(o,2),j=d[0],u=d[1],b=Object(i.useState)(""),p=Object(l.a)(b,2),x=p[0],m=p[1];return Object(i.useEffect)((function(){_.a.get("https://nestjs-backend-dnd.herokuapp.com/templates/all").then((function(e){c(e.data),u(!0)})).catch((function(e){m(e.message),u(!0)}))}),[]),j?Object(n.jsx)("div",{className:"container",children:x?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(_e.a,{open:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(n.jsx)(Ge,{severity:"error",children:x})})}):r.map((function(e,a){return Object(n.jsxs)(Le.a,{className:"box",variant:"outlined",children:[Object(n.jsx)(Te.a,{children:Object(n.jsxs)(We.a,{style:{maxHeight:100},title:e.name,children:[Object(n.jsx)(O.a,{component:"h2",style:{width:200},noWrap:!0,children:e.name}),Object(n.jsxs)(O.a,{variant:"body2",color:"textSecondary",component:"p",children:["Version:",Object(n.jsx)("br",{}),"Cr\xe9\xe9 \xe0:",Object(n.jsx)("br",{}),"Mis \xe0 jour \xe0:"]})]})}),Object(n.jsxs)(Re.a,{children:[Object(n.jsx)(xe.a,{size:"small",color:"primary",style:{outline:"none"},onClick:function(){return t.push("/template/view")},children:"D\xe9tails"}),Object(n.jsx)(y.a,{"aria-label":"delete",color:"primary",style:{marginLeft:90},children:Object(n.jsx)(Fe.a,{})}),Object(n.jsx)(y.a,{"aria-label":"edit",color:"primary",style:{marginLeft:-5},onClick:function(){return t.push("/template/edit/")},children:Object(n.jsx)(ze.a,{})})]})]},a)}))}):Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(Je.a,{})})}var Ke=Object(u.a)(),Qe=function(e){return{root:{flexGrow:1},flex:{flex:1},drawerPaper:{position:"relative",width:240},menuButton:{marginLeft:-12,marginRight:20},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},toolbarMargin:e.mixins.toolbar,aboveDrawer:{zIndex:e.zIndex.drawer+1}}},Ue=Object(b.a)(Qe)((function(e){var t=e.classes,a=e.title,s=e.onMenuClick;return Object(n.jsxs)(i.Fragment,{children:[Object(n.jsx)(p.a,{className:t.aboveDrawer,children:Object(n.jsxs)(x.a,{children:[Object(n.jsx)(y.a,{className:t.menuButton,color:"inherit","aria-label":"Menu",onClick:s,children:Object(n.jsx)(k.a,{})}),Object(n.jsx)(O.a,{variant:"h6",color:"inherit",className:t.flex,children:a})]})}),Object(n.jsx)("div",{className:t.toolbarMargin})]})})),Xe=Object(b.a)(Qe)((function(e){var t=e.classes,a=e.variant,i=e.open,s=e.onClose,r=e.onItemClick;return Object(n.jsxs)(h.c,{history:Ke,children:[Object(n.jsxs)(m.a,{variant:a,open:i,onClose:s,classes:{paper:t.drawerPaper},children:[Object(n.jsx)("div",{className:Object(j.a)(Object(d.a)({},t.toolbarMargin,"persistent"===a))}),Object(n.jsxs)(f.a,{children:[Object(n.jsxs)(g.a,{button:!0,component:o.b,to:"/DnDWeviooReact/",onClick:r("Dashboard"),children:[Object(n.jsx)(ge.a,{children:Object(n.jsx)(Ne.a,{})}),Object(n.jsx)(v.a,{primary:"Dashboard",children:W})]}),Object(n.jsxs)(g.a,{button:!0,component:o.b,to:"/DnDWeviooReact/template",onClick:r("Mod\xe8les"),children:[Object(n.jsx)(ge.a,{children:Object(n.jsx)(Me.a,{})}),Object(n.jsx)(v.a,{primary:"Mod\xe8les",children:"Mod\xe8les"})]}),Object(n.jsxs)(g.a,{button:!0,component:o.b,to:"/DnDWeviooReact/drafts",onClick:r("Brouillons"),children:[Object(n.jsx)(ge.a,{children:Object(n.jsx)(Pe.a,{})}),Object(n.jsx)(v.a,{primary:"Brouillons",children:"Brouillons"})]}),Object(n.jsxs)(g.a,{button:!0,component:o.b,to:"/DnDWeviooReact/list",onClick:r("list"),children:[Object(n.jsx)(ge.a,{children:Object(n.jsx)(Pe.a,{})}),Object(n.jsx)(v.a,{primary:"list",children:"list"})]})]})]}),Object(n.jsx)("main",{className:t.content,children:Object(n.jsxs)(D.a,{maxWidth:"lg",className:t.container,children:[Object(n.jsx)(h.b,{exact:!0,path:"/DnDWeviooReact/",component:W}),Object(n.jsx)(h.b,{path:"/DnDWeviooReact/template",component:we}),Object(n.jsx)(h.b,{path:"/DnDWeviooReact/drafts",component:Ie}),Object(n.jsx)(h.b,{path:"/DnDWeviooReact/list",component:qe})]})})]})}));var Ze=Object(b.a)(Qe)((function(e){var t=e.classes,a=e.variant,s=Object(i.useState)(!1),r=Object(l.a)(s,2),c=r[0],o=r[1],d=Object(i.useState)(),j=Object(l.a)(d,2),h=j[0],u=j[1],b=function(){o(!c)};return Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(Ue,{title:h,onMenuClick:b}),Object(n.jsx)(Xe,{open:c,onClose:b,onItemClick:function(e){return function(){u(e),o("temporary"!==a&&c),o(!c)}},variant:a})]})})),$e=Object(N.a)({});function et(){var e=$e();return Object(n.jsx)("div",{className:e.container,children:Object(n.jsx)(Ze,{})})}var tt=a(242),at=document.getElementById("root");c.a.render(Object(n.jsxs)(o.a,{children:[Object(n.jsx)(tt.a,{}),Object(n.jsx)(et,{})]}),at)}},[[173,1,2]]]);
//# sourceMappingURL=main.43ee5143.chunk.js.map