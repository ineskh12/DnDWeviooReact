(this["webpackJsonpfrontend-reactjs-ines"]=this["webpackJsonpfrontend-reactjs-ines"]||[]).push([[0],{190:function(t,e){},212:function(t,e,a){},336:function(t,e,a){},345:function(t,e,a){},346:function(t,e,a){"use strict";a.r(e);var n=a(2),i=a(0),s=a.n(i),o=a(8),r=a.n(o),c=(a(212),a(124),a(20)),l=a(13),d=a(4),j=a(15),h=a(44),b=a(29),u=a(5),p=a(411),x=a(412),O=a(75),m=a(420),f=a(403),g=a(413),v=a(415),y=a(405),C=a(193),k=a.n(C),D=a(397),S=a(398),w=a(197),N=a(392),I=a(396);function R(t){t.preventDefault()}var B=Object(N.a)({depositContext:{flex:1}}),M=function(){var t=B();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("h2",{children:"Mod\xe8les"}),Object(n.jsx)(O.a,{component:"p",variant:"h4",children:"12"}),Object(n.jsx)(O.a,{color:"textSecondary",className:t.depositContext,children:"cette semaine"}),Object(n.jsx)("div",{children:Object(n.jsx)(I.a,{color:"primary",href:"#",onClick:R,children:"voir plus des d\xe9tails"})})]})};function T(t){t.preventDefault()}var W=Object(N.a)({depositContext:{flex:1}}),E=function(){var t=W();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("h2",{children:"les plus utilis\xe9s"}),Object(n.jsx)(O.a,{component:"p",variant:"h4",children:"12"}),Object(n.jsx)(O.a,{color:"textSecondary",className:t.depositContext,children:"cette semaine"}),Object(n.jsx)("div",{children:Object(n.jsx)(I.a,{color:"primary",href:"#",onClick:T,children:"voir plus des d\xe9tails"})})]})},L=Object(N.a)((function(t){return{root:{display:"flex"},paper:{padding:t.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},container:{paddingTop:t.spacing(4),paddingBottom:t.spacing(4)}}})),P=function(){var t=L(),e=Object(d.a)(t.paper,t.fixedHeight);return Object(n.jsx)("div",{children:Object(n.jsx)(D.a,{maxWidth:"lg",className:t.container,children:Object(n.jsxs)(S.a,{container:!0,spacing:3,children:[Object(n.jsx)(S.a,{item:!0,xs:12,md:4,lg:3,children:Object(n.jsx)(w.a,{className:e,children:Object(n.jsx)(M,{})})}),Object(n.jsx)(S.a,{item:!0,xs:12,md:4,lg:3,children:Object(n.jsx)(w.a,{className:e,children:Object(n.jsx)(E,{})})}),Object(n.jsx)(S.a,{item:!0,xs:12,md:4,lg:3,children:Object(n.jsx)(w.a,{className:e,children:"ines"})})]})})})},z=a(39),H=a(27),A=a(21),F=a(49),J=a(47),V=a(94),_=a.n(V),G=a(73),Y=a(114),q=a.n(Y),K=a(115),Q=a(6),U=a.n(Q),X=a(183),Z=a(71),$=(a(336),{entityMap:{},blocks:[{key:"637gr",text:"Initialized from content state.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}}]}),tt=function(t){Object(F.a)(a,t);var e=Object(J.a)(a);function a(t){var i;Object(z.a)(this,a),(i=e.call(this,t)).onContentStateChange=function(t){i.setState({contentState:t})},i.editor=Object(n.jsx)(X.Editor,{placeholder:"\xe9crivez le texte ici ...",spellCheck:!0,toolbarOnFocus:!0,wrapperClassName:"wrapper-class",editorClassName:"editor-class",toolbarClassName:"toolbar-class toolbar-position",toolbar:{options:["blockType"],blockType:{inDropdown:!0,options:["H1","H2","H3","H4","H5","H6"],className:void 0,component:void 0,dropdownClassName:void 0}},onContentStateChange:i.onContentStateChange}),i.drop=function(t,e){e.preventDefault();var a=e.dataTransfer.getData("transfer");if("dr1"===e.dataTransfer.getData("gridId"))r.a.render(i.editor,document.getElementById(e.target.id)),e.dataTransfer.clearData();else if("dr1"!==e.dataTransfer.getData("gridId")&&e.dataTransfer.getData("gridId").trim()!==t.toString()){var n=document.getElementById(a),s=function t(e){var a=8,n=Math.pow(16,Math.min(e,a)-1),i=Math.pow(16,Math.min(e,a))-1,s=(Math.floor(Math.random()*(i-n+1))+n).toString(16);for(;s.length<e;)s+=t(e-a);return s}(12);n.id=s,e.target.appendChild(n)}},i.allowDrop=function(t){t.preventDefault()};var s=Object(Z.convertFromRaw)($);return i.state={contentState:s},i}return Object(H.a)(a,[{key:"dragstart_handler",value:function(t,e){e.dataTransfer.setData("transfer",e.target.id),e.dataTransfer.setData("gridId",t)}},{key:"render",value:function(){var t=this;return Object(n.jsx)("div",{id:this.props.id,onDrop:function(e){return t.drop(t.props.id,e)},onDragOver:this.allowDrop,onDragStart:function(e){return t.dragstart_handler(t.props.id,e)},style:this.props.style,children:this.props.children})}}]),a}(s.a.Component);tt.protoTypes={id:U.a.string,style:U.a.object,children:U.a.node};var et=a(399),at=a(184),nt=a.n(at),it=Object(K.WidthProvider)(K.Responsive),st={isResizable:!0,fontsize:"24px",textAlign:"left",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",margin:"auto",height:"100%"},ot=function(t){Object(F.a)(a,t);var e=Object(J.a)(a);function a(t){var n;return Object(z.a)(this,a),(n=e.call(this)).onNewLayout=function(){n.setState(n.baseState)},n.state={items:[0,1,2,3].map((function(t,e,a){return{i:t.toString(),x:2*t,y:0,w:2,h:2,add:t===a.length-1}})),newCounter:4,layouts:[]},n.baseState=n.state.items,n.onAddItem=n.onAddItem.bind(Object(A.a)(n)),n.onBreakpointChange=n.onBreakpointChange.bind(Object(A.a)(n)),n}return Object(H.a)(a,[{key:"createElement",value:function(t){var e=t.add?"3":t.i;return Object(n.jsxs)("div",{"data-grid":t,children:[Object(n.jsx)(tt,{style:st,id:e,ref:e+"item",fluid:!0}),Object(n.jsx)("span",{className:"remove",style:{position:"absolute",right:"2px",top:0,cursor:"pointer"},onClick:this.onRemoveItem.bind(this,e),children:"x"})]},e)}},{key:"onAddItem",value:function(){this.state.items.length<12&&(this.setState({items:this.state.items.concat({i:"n"+this.state.newCounter,x:2*this.state.items.length%(this.state.cols||12),y:0,w:2,h:2}),newCounter:this.state.newCounter+1}),this.setState({layouts:[this.state.layouts,Object.assign({},{absolutePosition:{x:2*this.state.items.length%(this.state.cols||12),y:0}})]}))}},{key:"onBreakpointChange",value:function(t,e){this.setState({breakpoint:t,cols:e})}},{key:"onLayoutChange",value:function(t){this.props.onLayoutChange(t),this.setState({layout:t})}},{key:"onRemoveItem",value:function(t){this.setState({items:q.a.reject(this.state.items,{i:t}),newCounter:t})}},{key:"render",value:function(){var t=this;return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{style:{display:"flex"},children:Object(n.jsx)(et.a,{size:"small",color:"primary","aria-label":"add",children:Object(n.jsx)(nt.a,{onClick:this.onAddItem})})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsx)(it,Object(G.a)(Object(G.a)({onLayoutChange:this.onLayoutChange,onBreakpointChange:this.onBreakpointChange},this.props),{},{children:q.a.map(this.state.items,(function(e){return t.createElement(e)}))}))]})]})}}]),a}(s.a.Component);ot.defaultProps={isResizable:!0,className:"layout",cols:{lg:12,md:10,sm:6,xs:4,xxs:2},onLayoutChange:function(){},rowHeight:30};var rt=ot,ct=a(188),lt=a.n(ct),dt=a(186),jt=a.n(dt),ht=a(187),bt=a.n(ht),ut=a(400),pt=a(74),xt=a.n(pt),Ot=a(116),mt=a.n(Ot),ft=a(404),gt=a(401),vt=a(417),yt=function(t){Object(F.a)(a,t);var e=Object(J.a)(a);function a(t){var n;return Object(z.a)(this,a),(n=e.call(this,t)).openPdfClick=function(){var t=[],e=[];n.state.layout.forEach((function(e){t.push(Object.assign({},{absolutePosition:{x:50*e.x+50,y:50*e.y+50}}))}));for(var a=0;a<n.state.layout.length;a++)if(document.getElementById(""+n.state.layout[a].i))for(var i=document.getElementById(""+n.state.layout[a].i).children,s=0;s<i.length;s++)"link"===i[s].name?(t[a]=Object.assign({text:i[s].value,color:"blue",decoration:"underline",italics:!0,fontSize:10},t[a]),e.push(Object.assign({},{link:i[s].value,index:a}))):(t[a]=Object.assign({text:i[s].value},t[a]),e.push(Object.assign({},{text:i[s].value,index:a})),console.log("value",e));n.setState({savelist:[]}),t.forEach((function(t){n.state.savelist.push(t)}));var o=mt.a.pdfMake.vfs;xt.a.vfs=o;var r=function(t,e,a){var n,i=(n=t,Object.assign({},n)),s=i[e];return delete i[e],i[a]=s,i},c=[];for(var l in n.state.savelist)c.push(r(n.state.savelist[l],"text","text"));console.log("myArray"),console.log(c);var d={pageSize:"A4",pageOrientation:"portrait",alignment:"center",content:c};xt.a.createPdf(d).open()},n.exportPdfClick=function(){n.setState({count:n.state.count+1});var t=[],e=[];n.state.layout.forEach((function(e){t.push(Object.assign({},{absolutePosition:{x:50*e.x+50,y:50*e.y+50}}))}));for(var a=0;a<n.state.layout.length;a++)if(document.getElementById(""+n.state.layout[a].i))for(var i=document.getElementById(""+n.state.layout[a].i).children,s=0;s<i.length;s++)t[a]=Object.assign({text:i[s].value},t[a]),e.push(Object.assign({},{text:i[s].value,index:a}));n.setState({savelist:[]}),t.forEach((function(t){n.state.savelist.push(t)}));var o=mt.a.pdfMake.vfs;xt.a.vfs=o;var r=function(t,e,a){var n,i=(n=t,Object.assign({},n)),s=i[e];return delete i[e],i[a]=s,i},c=[];for(var l in n.state.savelist)c.push(r(n.state.savelist[l],"text","text"));var d=new Date,j=d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate(),h=n.state.nomtemplate+"-"+j+"V"+n.state.count,b={pageSize:"A4",pageOrientation:"portrait",content:c};xt.a.createPdf(b).download(h)},n.save=function(){var t=[];n.state.layout.forEach((function(e){if(0!==document.getElementById(""+e.i).children.length){var a=document.getElementById(""+e.i).children;console.log(a);for(var n=0;n<a.length;n++)t.push(Object.assign({},{x:e.x,y:e.y,h:e.h,w:e.w,value:a[n].value,index:e.i,type:a[n].type}))}else t.push(Object.assign({},{x:e.x,y:e.y,h:e.h,w:e.w}))})),n.setState({savedata:[]}),t.forEach((function(t){n.state.savedata.push(t)})),n.setState({loading:!0}),_.a.post("https://nestjs-backend-dnd.herokuapp.com/templates/add",{name:n.state.nomtemplate,items:t}).then((function(t){n.setState({loading:!1}),setTimeout((function(){n.setState({redirect:"/DnDWeviooReact/list"})}),1300)})).catch((function(t){alert("erreur : "+t)})),console.log("list",t)},n.annuler=function(){n.setState({redirect:"/DnDWeviooReact/list"})},n.state={isToggleOn:!0},n.state={notify:{isOpen:!1,message:"",type:""}},n.state={layout:[],savelist:[],savedata:[],nomtemplate:"",count:0,age:"",open:!1,redirect:null,loading:!1},n.onLayoutChange=n.onLayoutChange.bind(Object(A.a)(n)),n.openPdfClick=n.openPdfClick.bind(Object(A.a)(n)),n.exportPdfClick=n.exportPdfClick.bind(Object(A.a)(n)),n.save=n.save.bind(Object(A.a)(n)),n}return Object(H.a)(a,[{key:"onLayoutChange",value:function(t){this.setState({layout:t})}},{key:"render",value:function(){var t=this;return this.state.redirect?Object(n.jsx)(j.a,{to:this.state.redirect}):Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{style:{marginLeft:"50%"},children:this.state.loading?Object(n.jsx)(ut.a,{}):null}),Object(n.jsx)(gt.a,{children:Object(n.jsxs)(S.a,{container:!0,children:[Object(n.jsx)(S.a,{item:!0,children:Object(n.jsx)(vt.a,{name:"Nom",label:"Nom",onChange:function(e){return t.setState({nomtemplate:e.target.value})}})})," "]})}),Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(ft.a,{style:{marginLeft:"auto"},variant:"contained",color:"primary","aria-label":"add",onClick:this.annuler,children:"Annuler"}),Object(n.jsx)(ft.a,{color:"primary",variant:"contained",style:{marginLeft:" 5px "},onClick:this.exportPdfClick,children:Object(n.jsx)(jt.a,{})}),Object(n.jsx)(ft.a,{style:{marginLeft:"5px"},variant:"contained",color:"primary","aria-label":"edit",onClick:this.openPdfClick,children:Object(n.jsx)(bt.a,{})}),Object(n.jsx)(ft.a,{style:{marginLeft:"5px"},variant:"contained",color:"primary","aria-label":"add",onClick:this.save,children:Object(n.jsx)(lt.a,{})})]}),Object(n.jsx)(rt,{onLayoutChange:this.onLayoutChange})]})}}]),a}(s.a.Component),Ct=a(189),kt=a.n(Ct),Dt={position:"absolute"},St={entityMap:{},blocks:[{key:"637gr",text:"Initialized from content state.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}}]},wt=function(t){Object(F.a)(a,t);var e=Object(J.a)(a);function a(t){var n;Object(z.a)(this,a),(n=e.call(this,t)).onContentStateChange=function(t){n.setState({contentState:t})},n.drag=function(t){t.dataTransfer.setData("transfer",t.target.id),localStorage.setItem("myData",t.target.id)},n.noAllowDrop=function(t){t.stopPropagation(),t.dataTransfer.clearData()};var i=Object(Z.convertFromRaw)(St);return n.state={contentState:i},n}return Object(H.a)(a,[{key:"render",value:function(){var t=this,e=this.state.contentState;return console.log(e),Object(n.jsx)("div",{style:{flexDirection:"column"},children:Object(n.jsx)("div",{id:"item1",style:Dt,draggable:"true",onDragStart:function(e){return t.drag(e)},onDragOver:this.noAllowDrop,children:Object(n.jsx)(kt.a,{})})})}}]),a}(s.a.Component);wt.protoTypes={id:U.a.string,style:U.a.object,children:U.a.node};var Nt=Object(N.a)((function(t){return{root:{display:"flex"},button:{margin:t.spacing(1)},paper:{padding:t.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:500},container:{paddingBottom:t.spacing(4)}}})),It=function(){var t=Nt(),e=Object(d.a)(t.paper,t.fixedHeight);return Object(n.jsx)("div",{children:Object(n.jsx)(D.a,{maxWidth:"lg",className:t.container,children:Object(n.jsxs)(S.a,{container:!0,spacing:3,children:[Object(n.jsx)(S.a,{item:!0,xs:12,children:Object(n.jsx)(w.a,{style:{height:100},children:Object(n.jsx)(tt,{id:"dr1",children:Object(n.jsx)(wt,{})})})}),Object(n.jsx)(S.a,{item:!0,xs:12,children:Object(n.jsx)(w.a,{className:e,children:Object(n.jsx)(yt,{})})})]})})})},Rt=a(194),Bt=a.n(Rt),Mt=a(190),Tt=a.n(Mt),Wt=a(414),Et=a(195),Lt=a.n(Et),Pt=a(119),zt=a.n(Pt),Ht=a(406),At=a(407),Ft=a(409),Jt=a(408),Vt=a(192),_t=a.n(Vt),Gt=a(191),Yt=a.n(Gt),qt=a(410),Kt=(a(345),a(418)),Qt=a(421);function Ut(t){return Object(n.jsx)(Kt.a,Object(G.a)({elevation:6,variant:"filled"},t))}var Xt=Object(N.a)((function(t){return{root:{width:"100%","& > * + *":{marginTop:t.spacing(2)},outline:"none"},container:{paddingTop:t.spacing(4),paddingBottom:t.spacing(4)}}}));function Zt(){var t=Xt(),e=Object(i.useState)([]),a=Object(c.a)(e,2),s=a[0],o=a[1],r=Object(i.useState)(!1),l=Object(c.a)(r,2),d=l[0],h=l[1],b=Object(i.useState)(""),u=Object(c.a)(b,2),p=u[0],x=u[1],m=Object(j.f)();return Object(i.useEffect)((function(){_.a.get("https://nestjs-backend-dnd.herokuapp.com/templates/all").then((function(t){o(t.data),h(!0)})).catch((function(t){x(t.message),h(!0)}))}),[]),d?Object(n.jsx)("div",{className:"container",children:p?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Qt.a,{open:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(n.jsx)(Ut,{severity:"error",children:p})})}):s.map((function(e,a){return Object(n.jsx)(D.a,{maxWidth:"lg",className:t.container,children:Object(n.jsxs)(Ht.a,{className:"box",variant:"outlined",children:[Object(n.jsx)(At.a,{children:Object(n.jsxs)(Jt.a,{style:{maxHeight:100},title:e.name,children:[Object(n.jsx)(O.a,{component:"h2",style:{width:200},noWrap:!0,children:e.name}),Object(n.jsxs)(O.a,{variant:"body2",color:"textSecondary",component:"p",children:["Version:",Object(n.jsx)("br",{}),"Cr\xe9\xe9 \xe0:",Object(n.jsx)("br",{}),"Mis \xe0 jour \xe0:"]})]})}),Object(n.jsxs)(Ft.a,{children:[Object(n.jsx)(ft.a,{size:"small",color:"primary",style:{outline:"none"},onClick:function(){return m.push("/DnDWeviooReact/details")},children:" D\xe9tails"}),Object(n.jsx)(y.a,{"aria-label":"delete",color:"primary",style:{marginLeft:90},children:Object(n.jsx)(Yt.a,{})}),Object(n.jsx)(y.a,{"aria-label":"edit",color:"primary",style:{marginLeft:-5},onClick:function(){return m.push("/DnDWeviooReact/edit")},children:Object(n.jsx)(_t.a,{})})]})]},a)})}))}):Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(qt.a,{})})}var $t=function(){return Object(n.jsx)("div",{children:"This is Detailstemplate page"})},te=function(){return Object(n.jsx)("div",{children:"This kljlkhjlke"})},ee=Object(b.a)(),ae=function(t){return{root:{flexGrow:1},flex:{flex:1},drawerPaper:{position:"relative",width:240},menuButton:{marginLeft:-12,marginRight:20},container:{paddingTop:t.spacing(4),paddingBottom:t.spacing(4)},toolbarMargin:t.mixins.toolbar,aboveDrawer:{zIndex:t.zIndex.drawer+1}}},ne=Object(u.a)(ae)((function(t){var e=t.classes,a=t.title,s=t.onMenuClick;return Object(n.jsxs)(i.Fragment,{children:[Object(n.jsx)(p.a,{className:e.aboveDrawer,children:Object(n.jsxs)(x.a,{children:[Object(n.jsx)(y.a,{className:e.menuButton,color:"inherit","aria-label":"Menu",onClick:s,children:Object(n.jsx)(k.a,{})}),Object(n.jsx)(O.a,{variant:"h6",color:"inherit",className:e.flex,children:a})]})}),Object(n.jsx)("div",{className:e.toolbarMargin})]})})),ie=Object(u.a)(ae)((function(t){var e=t.classes,a=t.variant,i=t.open,s=t.onClose,o=t.onItemClick;return Object(n.jsxs)(j.c,{history:ee,children:[Object(n.jsxs)(m.a,{variant:a,open:i,onClose:s,classes:{paper:e.drawerPaper},children:[Object(n.jsx)("div",{className:Object(d.a)(Object(l.a)({},e.toolbarMargin,"persistent"===a))}),Object(n.jsxs)(f.a,{children:[Object(n.jsxs)(g.a,{button:!0,component:h.b,to:"/DnDWeviooReact/",onClick:o("Dashboard"),children:[Object(n.jsx)(Wt.a,{children:Object(n.jsx)(Bt.a,{})}),Object(n.jsx)(v.a,{primary:"Dashboard",children:P})]}),Object(n.jsxs)(g.a,{button:!0,component:h.b,to:"/DnDWeviooReact/template",onClick:o("Mod\xe8les"),children:[Object(n.jsx)(Wt.a,{children:Object(n.jsx)(Lt.a,{})}),Object(n.jsx)(v.a,{primary:"Mod\xe8les",children:"Mod\xe8les"})]}),Object(n.jsxs)(g.a,{button:!0,component:h.b,to:"/DnDWeviooReact/drafts",onClick:o("Brouillons"),children:[Object(n.jsx)(Wt.a,{children:Object(n.jsx)(zt.a,{})}),Object(n.jsx)(v.a,{primary:"Brouillons",children:"Brouillons"})]}),Object(n.jsxs)(g.a,{button:!0,component:h.b,to:"/DnDWeviooReact/list",onClick:o("list"),children:[Object(n.jsx)(Wt.a,{children:Object(n.jsx)(zt.a,{})}),Object(n.jsx)(v.a,{primary:"list",children:"list"})]})]})]}),Object(n.jsx)("main",{className:e.content,children:Object(n.jsxs)(D.a,{maxWidth:"lg",className:e.container,children:[Object(n.jsx)(j.b,{exact:!0,path:"/DnDWeviooReact/",component:P}),Object(n.jsx)(j.b,{path:"/DnDWeviooReact/template",component:It}),Object(n.jsx)(j.b,{path:"/DnDWeviooReact/drafts",component:Tt.a}),Object(n.jsx)(j.b,{path:"/DnDWeviooReact/list",component:Zt}),Object(n.jsx)(j.b,{path:"/DnDWeviooReact/details",component:$t}),Object(n.jsx)(j.b,{path:"/DnDWeviooReact/edit",component:te})]})})]})}));var se=Object(u.a)(ae)((function(t){var e=t.classes,a=t.variant,s=Object(i.useState)(!1),o=Object(c.a)(s,2),r=o[0],l=o[1],d=Object(i.useState)("Dashboard"),j=Object(c.a)(d,2),h=j[0],b=j[1],u=function(){l(!r)};return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(ne,{title:h,onMenuClick:u}),Object(n.jsx)(ie,{open:r,onClose:u,onItemClick:function(t){return function(){b(t),l("temporary"!==a&&r),l(!r)}},variant:a})]})})),oe=a(416),re=Object(N.a)({});function ce(){var t=re();return Object(n.jsx)("div",{className:t.container,children:Object(n.jsxs)(h.a,{children:["   ",Object(n.jsx)(oe.a,{}),Object(n.jsx)(se,{})]})})}var le=document.getElementById("root");r.a.render(Object(n.jsx)(ce,{}),le)}},[[346,1,2]]]);
//# sourceMappingURL=main.0461586b.chunk.js.map